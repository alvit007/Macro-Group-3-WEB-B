<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Kalori</title>
    <style>
        /* CSS untuk popup window */
        #popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            background: white;
            padding: 20px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
        }
        #closeBtn {
            position: absolute;
            top: 5px;
            right: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <form id="kalkulatorForm">
            <h3>Apa jenis kelamin anda?</h3>
            <div class="gender-selection">
                <input type="radio" id="pria" name="jenisKelamin" value="pria">
                <label for="pria">Pria</label>
                <input type="radio" id="wanita" name="jenisKelamin" value="wanita">
                <label for="wanita">Wanita</label>
            </div>
            <h3>Berapa usia anda?</h3>
            <div>
                <input type="number" id="usia" name="usia" required>
            </div>
            <h3>Berapa tinggi badan anda?</h3>
            <div>
                <input type="number" id="tinggiBadan" name="tinggiBadan" required>
            </div>
            <h3>Berapa berat badan anda?</h3>
            <div>
                <input type="number" id="beratBadan" name="beratBadan" required>
            </div>
            <h3>Pilih aktivitas harian anda:</h3>
            <div>
                <select id="aktivitas" name="aktivitas" required>
                    <option value="ringan">Aktivitas ringan, Olahraga 1-3 kali/minggu</option>
                    <option value="sedang">Aktivitas menengah, olahraga 3-5 kali/minggu</option>
                    <option value="berat">Aktivitas berat, olahraga 6-7 kali/minggu</option>
                    <option value="ekstrim">Pekerja fisik, olahraga 2 kali/hari</option>

                </select>
            </div>
        <button type="submit">Hitung</button>
        <button type="reset">Reset</button>
    </form>
    <div id="hasil"></div>

    <!-- Popup window -->
    <div id="popup">
        <span id="closeBtn">X</span>
        <h2>Hasil Perhitungan Kalori:</h2>
        <p id="kaloriResult"></p>
    </div>

    <script>
        // JavaScript untuk menghitung kalori
        document.getElementById("kalkulatorForm").addEventListener("submit", function(e) {
            e.preventDefault();

            // Mengambil nilai input dari formulir
            const usia = parseInt(document.getElementById("usia").value);
            const tinggiBadan = parseInt(document.getElementById("tinggiBadan").value);
            const beratBadan = parseInt(document.getElementById("beratBadan").value);
            const aktivitas = document.getElementById("aktivitas").value;
            const jenisKelamin = document.querySelector('input[name="jenisKelamin"]:checked').value;

            // Melakukan perhitungan kalori berdasarkan rumus Mifflin St. Jeor
            let kalori = 0;
            if (jenisKelamin === "pria") {
                kalori = 10 * beratBadan + 6.25 * tinggiBadan - 5 * usia + 5;
            } else if (jenisKelamin === "wanita") {
                kalori = 10 * beratBadan + 6.25 * tinggiBadan - 5 * usia - 161;
            }

            // Menghitung kalori berdasarkan aktivitas
            switch (aktivitas) {
                case "ringan":
                    kalori *= 1.2;
                    break;
                case "sedang":
                    kalori *= 1.55;
                    break;
                case "berat":
                    kalori *= 1.725;
                    break;
                case "ekstrim":
                    kalori *= 1.9;
                    break;
            }

            // Menampilkan hasil di popup
            const popup = document.getElementById("popup");
            const kaloriResult = document.getElementById("kaloriResult");
            kaloriResult.textContent = "Anda membutuhkan " + kalori.toFixed(2) + " kalori per hari.";
            popup.style.display = "block";

            // Menutup popup saat tombol exit diklik
            const closeBtn = document.getElementById("closeBtn");
            closeBtn.addEventListener("click", function() {
                popup.style.display = "none";
            });
        });
    </script>
</body>
</html>
